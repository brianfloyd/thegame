<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Player Selection Screen -->
    <div id="playerSelection" class="screen">
        <div class="container">
            <h1>Choose Your Player</h1>
            <div class="player-options">
                <button class="player-btn" data-player="Fliz">Fliz</button>
                <button class="player-btn" data-player="Hebron">Hebron</button>
            </div>
        </div>
    </div>

    <!-- Game View Screen -->
    <div id="gameView" class="screen hidden">
        <div class="game-layout">
            <!-- Left: Text Terminal (2/3 of screen) -->
            <div class="terminal-container">
                <div class="terminal" id="terminal">
                    <div class="terminal-content" id="terminalContent">
                        <!-- Room info and players will be displayed here -->
                    </div>
                    <!-- God Mode Button Bar -->
                    <div id="godModeBar" class="god-mode-bar hidden">
                        <button class="god-mode-btn" data-action="map">Map</button>
                        <button class="god-mode-btn" data-action="npc" disabled>NPC</button>
                        <button class="god-mode-btn" data-action="items" disabled>Items</button>
                        <button class="god-mode-btn" data-action="spells" disabled>Spells</button>
                        <button class="god-mode-btn" data-action="craft" disabled>Craft</button>
                    </div>
                    <div class="command-line">
                        <span class="prompt">&gt;</span>
                        <input type="text" id="commandInput" class="command-input" autocomplete="off" spellcheck="false" placeholder="Type a command...">
                    </div>
                </div>
            </div>

            <!-- Right: Panel with 4 quadrants (1/3 of screen) -->
            <div class="right-panel">
                <!-- Top Left Quadrant: Player Stats -->
                <div class="stats-container">
                    <div class="stats-widget">
                        <h3>Player Stats</h3>
                        <div id="playerStatsContent">
                            <!-- Stats will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- Top Right Quadrant: Compass Widget -->
                <div class="compass-container">
                    <div class="compass-widget">
                        <h3>Compass</h3>
                        <div class="compass-grid">
                            <!-- Top row: NW, N, NE -->
                            <button id="compass-nw" class="compass-btn" data-direction="NW" style="grid-column: 1; grid-row: 1;">NW</button>
                            <button id="compass-n" class="compass-btn" data-direction="N" style="grid-column: 2; grid-row: 1;">N</button>
                            <button id="compass-ne" class="compass-btn" data-direction="NE" style="grid-column: 3; grid-row: 1;">NE</button>
                            
                            <!-- Middle row: W, Center, E -->
                            <button id="compass-w" class="compass-btn" data-direction="W" style="grid-column: 1; grid-row: 2;">W</button>
                            <div class="compass-center" style="grid-column: 2; grid-row: 2;">‚óè</div>
                            <button id="compass-e" class="compass-btn" data-direction="E" style="grid-column: 3; grid-row: 2;">E</button>
                            
                            <!-- Bottom row: SW, S, SE -->
                            <button id="compass-sw" class="compass-btn" data-direction="SW" style="grid-column: 1; grid-row: 3;">SW</button>
                            <button id="compass-s" class="compass-btn" data-direction="S" style="grid-column: 2; grid-row: 3;">S</button>
                            <button id="compass-se" class="compass-btn" data-direction="SE" style="grid-column: 3; grid-row: 3;">SE</button>
                            
                            <!-- Vertical: Up and Down -->
                            <button id="compass-up" class="compass-btn vertical" data-direction="U" style="grid-column: 4; grid-row: 1;">UP</button>
                            <button id="compass-down" class="compass-btn vertical" data-direction="D" style="grid-column: 4; grid-row: 3;">DOWN</button>
                        </div>
                        <div class="compass-coordinates" id="compassCoordinates"></div>
                    </div>
                </div>
                
                <!-- Bottom Left Quadrant: Map Widget -->
                <div class="map-container">
                    <div class="map-widget">
                        <h3>Map</h3>
                        <div class="map-viewport" id="mapViewport">
                            <canvas id="mapCanvas"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- Bottom Right Quadrant (empty for now) -->
                <div class="quadrant"></div>
            </div>
        </div>
    </div>

    <!-- Map Editor Overlay -->
    <div id="mapEditor" class="map-editor-overlay hidden">
        <div class="map-editor-container">
            <div class="map-editor-header">
                <h2>Map Editor</h2>
                <button id="closeMapEditor" class="close-editor-btn">Close</button>
            </div>
            <div class="map-editor-toolbar">
                <select id="mapSelector" class="map-selector">
                    <option value="">Select a map...</option>
                </select>
                <button id="createNewMapBtn" class="editor-btn">Create New Map</button>
                <button id="connectMapsBtn" class="editor-btn">Connect Maps</button>
            </div>
            <div class="map-editor-content">
                <div class="map-editor-grid-container">
                    <canvas id="mapEditorCanvas" class="map-editor-canvas"></canvas>
                </div>
                <div id="mapEditorSidePanel" class="map-editor-side-panel">
                    <div id="sidePanelContent">
                        <p>Select a room to edit or click empty space to create a new room.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- NPC Editor Overlay -->
    <div id="npcEditor" class="map-editor-overlay hidden">
        <div class="map-editor-container">
            <div class="map-editor-header">
                <h2>NPC Editor</h2>
                <button id="closeNpcEditor" class="close-editor-btn">Close</button>
            </div>
            <div class="map-editor-toolbar">
                <select id="npcSelector" class="map-selector">
                    <option value="">Select an NPC...</option>
                </select>
                <button id="createNewNpcBtn" class="editor-btn">Create New NPC</button>
            </div>
            <div class="map-editor-content">
                <div class="map-editor-grid-container" id="npcListContainer">
                    <div id="npcList" class="npc-list">
                        <!-- NPC list will be rendered here -->
                    </div>
                </div>
                <div id="npcEditorSidePanel" class="map-editor-side-panel">
                    <div id="npcSidePanelContent">
                        <p>Select an NPC from the list or create a new NPC.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create New Map Dialog -->
    <div id="createMapDialog" class="dialog-overlay hidden">
        <div class="dialog">
            <h3>Create New Map</h3>
            <div class="dialog-content">
                <label>Map Name:</label>
                <input type="text" id="newMapName" class="dialog-input" placeholder="Enter map name">
                <label>Description:</label>
                <textarea id="newMapDescription" class="dialog-textarea" placeholder="Enter map description"></textarea>
            </div>
            <div class="dialog-buttons">
                <button id="createMapConfirm" class="dialog-btn">Create</button>
                <button id="createMapCancel" class="dialog-btn">Cancel</button>
            </div>
        </div>
    </div>

    <script src="client.js"></script>
</body>
</html>
